<template>
  <div>
    <ion-header class="ion-no-border bg-white z-50">
    <ion-toolbar class="border-b">
      <div :class="{'max-w-7xl mx-auto flex':true, 'pt-3': isPlatform('desktop') || isPlatform('android')}">
        <ion-title class="pb-[10px]">
          <a href="/tabs/home">
            <svg width="86" height="45" viewBox="0 0 86 45" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M36.5564 7.14409C40.3004 7.14409 43.5203 8.48229 45.6859 10.8136C47.7828 13.0707 48.9527 15.978 48.9527 20.2946V30.3383C48.8474 30.3441 48.7199 30.3506 48.6219 30.3506C47.2645 30.3506 46.1296 29.9188 45.361 29.1523C44.6465 28.4261 44.2584 27.4361 44.2584 25.9869V21.2801C44.2584 17.5594 43.3503 15.199 41.8071 13.6689C40.4848 12.3613 38.7394 11.6116 36.5693 11.6116C32.2423 11.6116 29.352 14.6638 29.352 19.1234C29.352 23.6596 32.2264 26.1385 35.5136 26.1385C38.59 26.1385 40.4935 24.2534 41.1569 20.7984C41.9754 22.0146 42.3591 23.295 42.3591 24.4853C42.3591 27.7025 39.58 30.4406 34.9805 30.4406C29.0078 30.4406 24.4158 25.9555 24.4158 19.2337C24.4158 12.3904 29.3855 7.14409 36.5564 7.14409ZM81.331 7.37837C82.6607 7.37837 83.753 7.80428 84.5129 8.5746C85.2346 9.301 85.6198 10.2905 85.6198 11.7389V26.2191C85.6198 27.4849 85.2728 28.5927 84.598 29.3125C84.0019 29.9485 83.1217 30.3506 82.0326 30.3506C80.5753 30.3506 79.4655 29.7312 78.0466 27.8913C76.6087 26.0332 69.1159 16.2291 67.1392 13.652C67.0895 13.5877 67.0498 13.5596 66.9898 13.5596C66.9181 13.5596 66.8625 13.6235 66.8625 13.7494V30.3396C66.76 30.3441 66.6986 30.3506 66.5974 30.3506C65.2692 30.3506 64.1771 29.9245 63.4185 29.1523C62.6953 28.4261 62.3173 27.4361 62.3173 25.9869V11.512C62.3173 10.2409 62.6556 9.13526 63.3262 8.4165C63.928 7.77817 64.8051 7.37837 65.8988 7.37837C67.3633 7.37837 68.4776 7.98889 69.8863 9.83662C71.2349 11.6005 77.4259 19.6832 80.7922 24.0777C80.8433 24.136 80.8769 24.1662 80.9371 24.1662C81.0087 24.1662 81.0645 24.1046 81.0645 23.979V7.38409C81.1685 7.38112 81.2315 7.37837 81.331 7.37837ZM53.5388 7.29115C54.8933 7.29328 56.031 7.71514 56.7939 8.48674C57.5131 9.21314 57.8982 10.2031 57.8982 11.651V30.3396C57.7883 30.3441 57.6593 30.3506 57.5555 30.3441C56.2082 30.3441 55.0661 29.9188 54.3136 29.1523C53.5916 28.4229 53.1995 27.4346 53.1995 25.9869V7.299C53.3075 7.29327 53.4393 7.29115 53.5388 7.29115ZM17.579 7.63153C19.4343 7.63153 20.5794 7.98295 21.3483 8.63168C21.9879 9.16773 22.404 10.0346 22.404 10.935C22.404 12.3817 21.8709 13.3714 19.348 15.4188C17.8822 16.6091 8.33803 24.3171 6.90008 25.4723C6.79164 25.5589 6.74199 25.6451 6.74199 25.7185C6.74199 25.8276 6.84151 25.8942 7.02593 25.8942H17.5849C19.6128 25.8942 20.6819 26.1796 21.5166 26.941C22.2355 27.6023 22.5751 28.6449 22.5751 29.8492V30.0001H5.56761C3.71076 30.0001 2.56143 29.6499 1.79259 28.9991C1.15871 28.466 0.735352 27.6023 0.735352 26.6996C0.735352 25.2608 1.23893 24.2468 3.77528 22.2128C5.97315 20.4518 14.7837 13.3387 16.2951 12.1238C16.412 12.0311 16.4619 11.9761 16.4619 11.8851C16.4619 11.7888 16.3592 11.7389 16.1705 11.7389H5.5031C3.82515 11.7389 2.58053 11.1899 1.92437 10.2496C1.50568 9.64669 1.327 8.72846 1.327 7.88853C1.327 7.80428 1.327 7.71514 1.33145 7.63153H17.579ZM55.5508 0C57.0825 0 58.3301 1.23825 58.3301 2.77318C58.3301 4.30916 57.0825 5.54783 55.5508 5.54783C54.0163 5.54783 52.7748 4.30916 52.7748 2.77318C52.7748 1.23825 54.0163 0 55.5508 0Z" fill="#70A838"/>
<path d="M34.5186 44.8669V35.6764H37.96C38.5647 35.6764 39.0716 35.7564 39.4807 35.9165C39.8986 36.0765 40.2143 36.33 40.4277 36.6768C40.65 37.0147 40.7612 37.4593 40.7612 38.0107C40.7612 38.402 40.7167 38.731 40.6278 38.9978C40.5389 39.2645 40.4099 39.4913 40.241 39.6781C40.0809 39.8559 39.8764 40.0071 39.6274 40.1316C39.8942 40.2294 40.1343 40.3628 40.3477 40.5317C40.5611 40.6918 40.7256 40.9141 40.8412 41.1987C40.9657 41.4833 41.028 41.8434 41.028 42.2792C41.028 42.7683 40.9568 43.1818 40.8146 43.5197C40.6812 43.8487 40.4855 44.111 40.2276 44.3067C39.9698 44.5023 39.6585 44.6446 39.2939 44.7335C38.9382 44.8225 38.5425 44.8669 38.1067 44.8669H34.5186ZM35.7991 43.8131H38.04C38.3958 43.8131 38.6981 43.7687 38.9471 43.6797C39.205 43.5819 39.4051 43.4219 39.5474 43.1995C39.6896 42.9683 39.7608 42.6438 39.7608 42.2258C39.7608 41.8968 39.6985 41.6344 39.574 41.4388C39.4584 41.2343 39.3073 41.0831 39.1205 40.9853C38.9427 40.8786 38.7515 40.8074 38.5469 40.7719C38.3513 40.7363 38.1645 40.7185 37.9867 40.7185H35.7991V43.8131ZM35.7991 39.6781H37.9734C38.5158 39.6781 38.9026 39.5536 39.1338 39.3046C39.3739 39.0467 39.494 38.6598 39.494 38.1441C39.494 37.655 39.3606 37.2993 39.0938 37.077C38.8359 36.8457 38.4358 36.7301 37.8933 36.7301H35.7991V39.6781Z" fill="#70A838"/>
<path d="M44.6329 45.0003C44.0549 45.0003 43.6103 44.8847 43.299 44.6535C42.9967 44.4134 42.7877 44.0488 42.6721 43.5597C42.5565 43.0706 42.4987 42.4392 42.4987 41.6656V38.1841H43.7392V41.6522C43.7392 42.2036 43.7659 42.6438 43.8193 42.9728C43.8726 43.3018 43.9882 43.5375 44.1661 43.6797C44.3528 43.822 44.6285 43.8932 44.9931 43.8932C45.3488 43.8932 45.6734 43.8443 45.9668 43.7464C46.2692 43.6486 46.5137 43.5553 46.7005 43.4663V38.1841H47.9277V44.8669H46.7005V44.4134C46.4159 44.5735 46.1091 44.7113 45.7801 44.8269C45.46 44.9425 45.0776 45.0003 44.6329 45.0003Z" fill="#70A838"/>
<path d="M51.9041 45.0003C51.6729 45.0003 51.4062 44.987 51.1038 44.9603C50.8104 44.9336 50.5169 44.9025 50.2234 44.8669C49.9389 44.8225 49.6899 44.778 49.4765 44.7335L49.5298 43.7331C49.7521 43.7598 50.0056 43.7909 50.2901 43.8265C50.5747 43.862 50.8504 43.8932 51.1171 43.9199C51.3928 43.9376 51.6107 43.9465 51.7708 43.9465C52.1087 43.9465 52.3888 43.9154 52.6111 43.8532C52.8334 43.7909 53.0024 43.6886 53.118 43.5464C53.2336 43.3952 53.2914 43.1907 53.2914 42.9328C53.2914 42.7282 53.2469 42.5726 53.158 42.4659C53.0691 42.3503 52.9046 42.2569 52.6645 42.1858C52.4244 42.1057 52.0731 42.0302 51.6107 41.959C51.1127 41.879 50.6992 41.7812 50.3702 41.6656C50.0411 41.5411 49.7966 41.3543 49.6365 41.1053C49.4765 40.8563 49.3964 40.5095 49.3964 40.0649C49.3964 39.5491 49.512 39.1489 49.7432 38.8644C49.9833 38.5709 50.2901 38.3619 50.6636 38.2374C51.046 38.1129 51.4462 38.0507 51.8641 38.0507C52.1309 38.0507 52.4155 38.064 52.7178 38.0907C53.0291 38.1174 53.327 38.153 53.6115 38.1974C53.8961 38.2419 54.1407 38.2819 54.3452 38.3175L54.3052 39.3312C54.0917 39.2957 53.8427 39.2645 53.5582 39.2379C53.2736 39.2023 52.9891 39.1756 52.7045 39.1578C52.4199 39.14 52.1709 39.1312 51.9575 39.1312C51.7085 39.1312 51.4817 39.1578 51.2772 39.2112C51.0816 39.2557 50.926 39.3446 50.8104 39.478C50.7036 39.6025 50.6503 39.7848 50.6503 40.0249C50.6503 40.2027 50.6903 40.345 50.7703 40.4517C50.8504 40.5584 51.0104 40.6518 51.2505 40.7318C51.4906 40.803 51.833 40.8741 52.2776 40.9453C52.829 41.0342 53.2692 41.1453 53.5982 41.2787C53.9272 41.4121 54.1673 41.6033 54.3185 41.8523C54.4697 42.1013 54.5453 42.4437 54.5453 42.8794C54.5453 43.6709 54.3096 44.2222 53.8383 44.5334C53.3759 44.8447 52.7312 45.0003 51.9041 45.0003Z" fill="#70A838"/>
<path d="M55.9695 44.8669V38.1841H57.21V44.8669H55.9695ZM55.9695 36.8369V35.543H57.21V36.8369H55.9695Z" fill="#70A838"/>
<path d="M58.9916 44.8669V38.1841H60.2322V38.651C60.3744 38.562 60.5567 38.4731 60.7791 38.3842C61.0014 38.2952 61.237 38.2197 61.486 38.1574C61.735 38.0863 61.9751 38.0507 62.2063 38.0507C62.8288 38.0507 63.3046 38.1619 63.6336 38.3842C63.9626 38.5976 64.1894 38.9489 64.3139 39.438C64.4473 39.9182 64.514 40.554 64.514 41.3454V44.8669H63.2601V41.4121C63.2601 40.8608 63.229 40.4206 63.1667 40.0916C63.1045 39.7625 62.98 39.5269 62.7932 39.3846C62.6065 39.2334 62.3264 39.1578 61.9529 39.1578C61.7484 39.1578 61.5349 39.1801 61.3126 39.2245C61.0992 39.269 60.8947 39.3268 60.699 39.3979C60.5123 39.4691 60.3567 39.5358 60.2322 39.598V44.8669H58.9916Z" fill="#70A838"/>
<path d="M68.6756 45.0003C67.9909 45.0003 67.4484 44.8758 67.0483 44.6268C66.657 44.3689 66.3724 43.9865 66.1946 43.4797C66.0167 42.9728 65.9278 42.337 65.9278 41.5722C65.9278 40.7363 66.0434 40.0604 66.2746 39.5447C66.5147 39.0289 66.8482 38.651 67.275 38.4109C67.7019 38.1707 68.2132 38.0507 68.809 38.0507C69.725 38.0507 70.4141 38.2997 70.8766 38.7977C71.3479 39.2868 71.5835 40.0782 71.5835 41.172L71.5168 42.0124H67.195C67.2039 42.6526 67.3239 43.1373 67.5552 43.4663C67.7864 43.7865 68.2043 43.9465 68.809 43.9465C69.0669 43.9465 69.347 43.9421 69.6494 43.9332C69.9606 43.9154 70.2674 43.8976 70.5698 43.8798C70.8721 43.862 71.13 43.8443 71.3434 43.8265L71.3701 44.7602C71.1478 44.7958 70.881 44.8313 70.5698 44.8669C70.2585 44.9114 69.9339 44.9425 69.596 44.9603C69.267 44.987 68.9602 45.0003 68.6756 45.0003ZM67.195 41.092H70.343C70.343 40.3361 70.2185 39.807 69.9695 39.5046C69.7294 39.2023 69.3426 39.0511 68.809 39.0511C68.2844 39.0511 67.8842 39.2067 67.6085 39.518C67.3328 39.8292 67.195 40.3539 67.195 41.092Z" fill="#70A838"/>
<path d="M75.1953 45.0003C74.9641 45.0003 74.6973 44.987 74.3949 44.9603C74.1015 44.9336 73.808 44.9025 73.5146 44.8669C73.23 44.8225 72.981 44.778 72.7676 44.7335L72.8209 43.7331C73.0432 43.7598 73.2967 43.7909 73.5812 43.8265C73.8658 43.862 74.1415 43.8932 74.4083 43.9199C74.6839 43.9376 74.9018 43.9465 75.0619 43.9465C75.3998 43.9465 75.6799 43.9154 75.9022 43.8532C76.1245 43.7909 76.2935 43.6886 76.4091 43.5464C76.5247 43.3952 76.5825 43.1907 76.5825 42.9328C76.5825 42.7282 76.5381 42.5726 76.4491 42.4659C76.3602 42.3503 76.1957 42.2569 75.9556 42.1858C75.7155 42.1057 75.3642 42.0302 74.9018 41.959C74.4038 41.879 73.9903 41.7812 73.6613 41.6656C73.3323 41.5411 73.0877 41.3543 72.9276 41.1053C72.7676 40.8563 72.6875 40.5095 72.6875 40.0649C72.6875 39.5491 72.8031 39.1489 73.0344 38.8644C73.2745 38.5709 73.5812 38.3619 73.9547 38.2374C74.3371 38.1129 74.7373 38.0507 75.1553 38.0507C75.422 38.0507 75.7066 38.064 76.0089 38.0907C76.3202 38.1174 76.6181 38.153 76.9027 38.1974C77.1872 38.2419 77.4318 38.2819 77.6363 38.3175L77.5963 39.3312C77.3829 39.2957 77.1339 39.2645 76.8493 39.2379C76.5647 39.2023 76.2802 39.1756 75.9956 39.1578C75.711 39.14 75.462 39.1312 75.2486 39.1312C74.9996 39.1312 74.7729 39.1578 74.5683 39.2112C74.3727 39.2557 74.2171 39.3446 74.1015 39.478C73.9948 39.6025 73.9414 39.7848 73.9414 40.0249C73.9414 40.2027 73.9814 40.345 74.0615 40.4517C74.1415 40.5584 74.3016 40.6518 74.5417 40.7318C74.7818 40.803 75.1241 40.8741 75.5688 40.9453C76.1201 41.0342 76.5603 41.1453 76.8893 41.2787C77.2183 41.4121 77.4584 41.6033 77.6096 41.8523C77.7608 42.1013 77.8364 42.4437 77.8364 42.8794C77.8364 43.6709 77.6007 44.2222 77.1294 44.5334C76.667 44.8447 76.0223 45.0003 75.1953 45.0003Z" fill="#70A838"/>
<path d="M81.4349 45.0003C81.2037 45.0003 80.9369 44.987 80.6345 44.9603C80.3411 44.9336 80.0476 44.9025 79.7542 44.8669C79.4696 44.8225 79.2206 44.778 79.0072 44.7335L79.0605 43.7331C79.2829 43.7598 79.5363 43.7909 79.8209 43.8265C80.1054 43.862 80.3811 43.8932 80.6479 43.9199C80.9236 43.9376 81.1414 43.9465 81.3015 43.9465C81.6394 43.9465 81.9195 43.9154 82.1418 43.8532C82.3642 43.7909 82.5331 43.6886 82.6487 43.5464C82.7643 43.3952 82.8221 43.1907 82.8221 42.9328C82.8221 42.7282 82.7777 42.5726 82.6888 42.4659C82.5998 42.3503 82.4353 42.2569 82.1952 42.1858C81.9551 42.1057 81.6038 42.0302 81.1414 41.959C80.6434 41.879 80.2299 41.7812 79.9009 41.6656C79.5719 41.5411 79.3273 41.3543 79.1673 41.1053C79.0072 40.8563 78.9272 40.5095 78.9272 40.0649C78.9272 39.5491 79.0428 39.1489 79.274 38.8644C79.5141 38.5709 79.8209 38.3619 80.1944 38.2374C80.5767 38.1129 80.9769 38.0507 81.3949 38.0507C81.6617 38.0507 81.9462 38.064 82.2486 38.0907C82.5598 38.1174 82.8577 38.153 83.1423 38.1974C83.4268 38.2419 83.6714 38.2819 83.8759 38.3175L83.8359 39.3312C83.6225 39.2957 83.3735 39.2645 83.0889 39.2379C82.8044 39.2023 82.5198 39.1756 82.2352 39.1578C81.9507 39.14 81.7017 39.1312 81.4882 39.1312C81.2393 39.1312 81.0125 39.1578 80.808 39.2112C80.6123 39.2557 80.4567 39.3446 80.3411 39.478C80.2344 39.6025 80.181 39.7848 80.181 40.0249C80.181 40.2027 80.221 40.345 80.3011 40.4517C80.3811 40.5584 80.5412 40.6518 80.7813 40.7318C81.0214 40.803 81.3637 40.8741 81.8084 40.9453C82.3597 41.0342 82.7999 41.1453 83.1289 41.2787C83.458 41.4121 83.6981 41.6033 83.8492 41.8523C84.0004 42.1013 84.076 42.4437 84.076 42.8794C84.076 43.6709 83.8404 44.2222 83.369 44.5334C82.9066 44.8447 82.2619 45.0003 81.4349 45.0003Z" fill="#70A838"/>
</svg>

          </a>
        </ion-title>
        <ion-tab-bar class="hidden sm:flex" slot="top">
          <ion-tab-button @click="getToTop('home')" class="text-base 4xl:text-lg text-[#5f5f5f]" layout="icon-start" tab="home" href="/tabs/home">
            <!-- <ion-icon :icon="HomeIcon" aria-hidden="true"></ion-icon> -->
            <ion-label class="font-medium">Explore</ion-label>
          </ion-tab-button>
          <ion-tab-button @click="getToTop('dashboard')" class="text-base 4xl:text-lg text-[#5f5f5f]" layout="icon-start" tab="dashboard" href="/tabs/dashboard">
            <!-- <ion-icon
              :src="DashboardIcon"></ion-icon> -->
              <ion-label class="font-medium">Dashboard</ion-label></ion-tab-button>
          <ion-tab-button @click="getToTop('support')" class="text-base 4xl:text-lg text-[#5f5f5f]" layout="icon-start" tab="support" href="/tabs/support">
            <!-- <ion-icon
              :src="SupportIcon"></ion-icon> -->
              <ion-label class="font-medium">Help</ion-label></ion-tab-button>
          <ion-tab-button @click="getToTop('settings')" class="text-base 4xl:text-lg text-[#5f5f5f]" layout="icon-start" tab="settings" href="/tabs/settings">
            <!-- <ion-icon
              :src="SettingsIcon"></ion-icon> -->
              <ion-label class="font-medium">Settings</ion-label></ion-tab-button>
        </ion-tab-bar>
        <ion-buttons class="mx-4" slot="end">
          <language-dropdown v-show="!isPlatform('ios') && !isPlatform('android')"></language-dropdown>
          <ion-button class="border-l border-[#0000000f] px-1" v-show="!isPlatform('ios') && !isPlatform('android')" @click="login"><ion-icon
                :icon="PersonIcon"></ion-icon></ion-button>
        </ion-buttons>
      </div>
    </ion-toolbar>
  </ion-header>
  <slot name="line-selector"></slot>
  </div>
</template>
<script setup lang="ts">
import { IonHeader, IonToolbar, IonLabel, IonIcon, IonTitle, IonButton, IonButtons, IonTabBar, IonTabButton, isPlatform } from '@ionic/vue'
import { computed } from 'vue';
import { useStore } from 'vuex';
import LanguageDropdown from '@/components/LanguageDropdown.vue';
import HomeIcon from '@/assets/icons/home-icon.svg'
import DashboardIcon from '@/assets/icons/dashboard-icon.svg'
import SupportIcon from '@/assets/icons/support-icon.svg'
import SettingsIcon from '@/assets/icons/settings-icon.svg'
import PersonIcon from '@/assets/icons/person-icon.svg'
import { chevronDown } from 'ionicons/icons';

const store = useStore();
const currentTab = computed(() => store.getters['currentTab']);
const isLoggedIn = computed(() => store.getters['isLoggedIn']);

function login(){
  store.dispatch('toggleLogin');
}

function getToTop(tab: any){
    const el = document.getElementById(`ion-content-${tab}`);
    if(el){
      el.scrollToTop(500);
    }
  }
</script>
<style scoped>
ion-tab-bar {
  width: 100% !important;
}

ion-tab-button.tab-selected {
  border-bottom: 2.5px solid var(--ion-color-primary);
  color: black;
}

ion-tab-button:hover {
  --color-selected: black !important;
}

ion-tab-button{
  max-width: 140px !important;
  --padding-start:0px !important;
  --padding-end:0px !important;
  font-size: 18px !important;
}

a.button-native>span.button-inner {
  justify-content: space-between !important;
}
</style>